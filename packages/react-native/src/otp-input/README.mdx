# OTPInput

**Category**: input | **Tags**: form, verification, security

The OTPInput component provides a one-time password input with multiple fields for verification codes. It enables secure code entry with automatic focus management, paste handling, input validation, and visual feedback for different states including focus, error, and success.

## Basic Usage

The default configuration for common use cases.

<BasicExample />

## Variants

All available visual styles for different contexts.

<VariantsExample />

- **Outline**: Default style with visible borders, suitable for most interfaces
- **Filled**: Background fill without prominent borders, provides a softer appearance

## Sizes

Available size options for different screen contexts.

<SizesExample />

- **sm**: Compact 36px field width for tight spaces
- **md**: Default 44px field width for standard use
- **lg**: Prominent 52px field width for primary verification flows

## States

Visual feedback for different interaction states.

<StatesExample />

- **Error**: Red border indicates invalid code or verification failure
- **Disabled**: Non-interactive state for locked verification
- **Success**: Green border when all fields are filled correctly

## Custom Length

Configure the number of input fields for different code formats.

<CustomLengthExample />

## Behavior

The OTPInput component provides intelligent input handling:

- **Auto-advance**: Focus automatically moves to the next field after character entry
- **Backspace navigation**: Pressing backspace on an empty field moves focus backwards
- **Paste handling**: Pasted codes are distributed across fields with validation
- **Auto-submit**: Triggers onComplete callback when all fields are filled
- **Input validation**: Number type restricts input to digits only

## Theme Tokens

This component uses the following design tokens from the three-tier theme system:

### Field Width Tokens

| Token Path | Purpose | sm | md | lg |
| --- | --- | --- | --- | --- |
| theme.component.otpInput.fieldWidth[size] | Field width | 36 | 44 | 52 |

### Spacing Tokens

| Token Path | Purpose | Value | Primitive Source |
| --- | --- | --- | --- |
| theme.component.otpInput.gap | Gap between fields | 8 | primitive.spacing[2] |

### Border Tokens (Light Mode)

| Token Path | Purpose | Value | Semantic Source |
| --- | --- | --- | --- |
| theme.semantic.colors.border.focus | Focused field border | #4A90E2 | light.border.focus |
| theme.semantic.colors.border.error | Error state border | #EF4444 | light.border.error |
| theme.component.otpInput.variant.light.success.border | Success state border | #BBF7D0 | light.status.success.border |

### Border Tokens (Dark Mode)

| Token Path | Purpose | Value | Semantic Source |
| --- | --- | --- | --- |
| theme.semantic.colors.border.focus | Focused field border | #60A5FA | dark.border.focus |
| theme.semantic.colors.border.error | Error state border | #F87171 | dark.border.error |
| theme.component.otpInput.variant.dark.success.border | Success state border | #166534 | dark.status.success.border |

## Props

### Behavior Props

| Prop | Type | Default | Description |
| --- | --- | --- | --- |
| value | string | required | Current OTP value distributed across fields |
| onChange | (otp: string) => void | required | Callback fired when any field changes |
| onComplete | (otp: string) => void | undefined | Callback fired when all fields are filled |
| length | number | 6 | Number of input fields to render |
| type | "number" \| "text" | "number" | Input validation type |
| autoFocus | boolean | true | Auto-focus first field on mount |

### Visual Props

| Prop | Type | Default | Description |
| --- | --- | --- | --- |
| variant | "outline" \| "filled" | "outline" | Visual style variant inherited from Input |
| size | "sm" \| "md" \| "lg" | "md" | Size preset controlling field dimensions |

### State Props

| Prop | Type | Default | Description |
| --- | --- | --- | --- |
| error | boolean | false | Applies error border color to all fields |
| disabled | boolean | false | Disables all input fields |

### Styling Props

| Prop | Type | Default | Description |
| --- | --- | --- | --- |
| style | StyleProp\<ViewStyle\> | undefined | Custom style overrides for container |

### Accessibility Props

| Prop | Type | Default | Description |
| --- | --- | --- | --- |
| accessibilityLabel | string | "One time password input" | Screen reader label for container |

## Accessibility

**WCAG Level:** AA compliant

**Screen Reader:**

- Container announces "One time password input" by default
- Each field announces "Digit N of M" for position context
- Custom container label supported via accessibilityLabel prop

**Keyboard Navigation:**

- Auto-advance on character entry
- Backspace navigates to previous field when current is empty
- Tab navigates between fields

**Input Behavior:**

- Number type presents numeric keyboard on mobile
- Paste support for quick code entry
- Auto-dismisses keyboard on completion

**Visual Requirements:**

- Minimum touch target: 36pt (sm), 44pt (md), 52pt (lg)
- Color contrast meets 4.5:1 for border states
- Focus indicator via border color change
- Error state indicated by red border
- Success state indicated by green border
